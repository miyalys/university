<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!--/*/ <th:block th:include="fragments/header.html"> </th:block> /*/-->
    <title>Title</title>
</head>

<body>

  <!-- Fragment af top-navigation.-->
  <div th:insert="fragments/topnav">Menu</div>

  <h3>Student Signup Requests</h3>
  <hr>

  <table class="table table-hover table-striped">
      <thead class="thead bg-dark">
      <tr>
          <th class="text-white">ID</th>
          <th class="text-white">Name (English)</th>
          <th class="text-white">Study Programme</th>
          <th class="text-white">ECTS</th>
          <!-- So that Students can see teachers assigned to a course -->
          <th class="text-white" sec:authorize="hasRole('ROLE_STUDENT')">Teachers</th>
          <th class="text-white">Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="c : ${myCourses}">
          <td th:text="${c.id}"></td>
          <td th:text="${c.name_en}"></td>
          <td th:text="${c.study_programme}"></td>
          <td th:text="${c.ects}"></td>

          <td>
              <a th:href="@{'/courses/info/' + ${c.id}}" class='btn btn-secondary btn-sm'>Course Details</a>
              <a th:href="${'/courses/update' + ${c.id}}" sec:authorize="hasRole('ROLE_TEACHER')" class='btn btn-secondary btn-sm'>Edit Course</a>
              <form th:action="@{/users/student-signup}" method='POST' sec:authorize="hasRole('ROLE_STUDENT')" class="forms">
                  <input type="hidden" th:value="${c.id}" name="id"/>
                  <input type="submit" value="Sign Up" class='btn btn-secondary btn-sm'/>
              </form>
          </td>
      </tr>
      </tbody>
  </table>


</body>
</html>
