<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Purpose of this list is to display quick-info about the course. A fully list can be seen when "show more" is selected-->
    <!--/*/ <th:block th:include="fragments/header.html"> </th:block> /*/-->
    <title>Course Info</title>
</head>

<body class='list'>

<!-- Fragment af top-navigation.-->
<div th:insert="fragments/topnav">Menu</div>

<div class="container-fluid">

  <h3>Course List for <span th:text="${userName}"></span>, <span th:text="${userRole}"></span> </h3>

    <table class="table table-hover table-striped">
        <thead class="thead bg-dark">
        <tr>
            <th class="text-white">ID</th>
            <th class="text-white">Name (English)</th>
            <th class="text-white">Study Programme</th>
            <th class="text-white">ECTS</th>
            <th class="text-white">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${courses}">
            <td th:text="${c.id}"></td>
            <td th:text="${c.name_en}"></td>
            <td th:text="${c.study_programme}"></td>
            <td th:text="${c.ects}"></td>
            <td>
                <a th:href="@{'/courses/info/' + ${c.id}}" class='btn btn-secondary btn-sm'>Course Details</a>
                <form action="/student-signup" method='POST' class="forms">
                    <input type="hidden" th:value="${c.id}" name="id"/>
                    <input type="submit" value="Sign Up" class='btn btn-secondary btn-sm'/>
                </form>
                <form th:action="@{/courses/delete}" method='POST' class="forms">
                    <input type="hidden" th:value="${c.id}" name="id"/>
                    <input type="submit" value="Delete" class='btn btn-secondary btn-sm'/>
                </form>
            </td>

            <script type="text/javascript" th:inline="javascript">
                /*<![CDATA[*/
                function getConfirmation() {
                    var warning = confirm("Are you sure you want to delete " + /*[[${c.name_en}]]*/ + "?");

                    if (warning) {
                        //true / ok
                    } else {
                        //false / annuller;
                    }
                }
                /*]]>*/
            </script>

        </tr>
        </tbody>
    </table>

</div>

</body>
</html>
